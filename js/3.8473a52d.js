(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{1196:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pb-xs row"},[a("q-btn",{staticClass:"q-pr-sm",attrs:{dense:"",size:"sm",color:"primary",icon:"refresh",label:"Load VD"},on:{click:e.loadvd}}),a("q-btn",{staticClass:"q-ml-xs q-pr-sm",attrs:{dense:"",size:"sm",color:"primary",icon:"save",label:"Save\n    VD"},on:{click:e.savevd}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",size:"sm",color:"negative",icon:"delete",label:"Delete\n    VD"},on:{click:e.deletevd}})],1),a("q-tabs",{staticClass:"bg-grey-8 text-white shadow-2",attrs:{size:"sm",dense:"",align:"left"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"properties",label:"Properties"}}),a("q-tab",{attrs:{name:"alarms",label:"Alarms"}}),a("q-tab",{attrs:{name:"commands",label:"Commands"}})],1),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"properties"}},[a("q-table",{staticClass:"bg-grey-9",attrs:{dense:"",data:e.devicedata.Properties,columns:e.procolumns,"row-key":"Name",pagination:e.pagination},scopedSlots:e._u([{key:"body-cell-Name",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Name)+"\n            "),a("q-popup-edit",{attrs:{title:"Update property name",buttons:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}})],1)],1)]}},{key:"body-cell-Alias",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Alias)+"\n            "),a("q-popup-edit",{attrs:{title:"Update alias",buttons:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}})],1)],1)]}},{key:"body-cell-ValueType",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(e.scadadatatypeconverter(t.row.ValueType))+"\n            "),a("q-popup-edit",{attrs:{title:"Update value type",buttons:""},model:{value:t.row.ValueType,callback:function(a){e.$set(t.row,"ValueType",a)},expression:"props.row.ValueType"}},[a("q-select",{attrs:{filled:"",dense:"",options:e.scadatypes,label:"Standard","emit-value":"","map-options":""},model:{value:t.row.ValueType,callback:function(a){e.$set(t.row,"ValueType",a)},expression:"props.row.ValueType"}})],1)],1)]}},{key:"body-cell-Formula",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Formula)+"\n            "),a("q-popup-edit",{attrs:{title:"Update formula",buttons:""},model:{value:t.row.Formula,callback:function(a){e.$set(t.row,"Formula",a)},expression:"props.row.Formula"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Formula,callback:function(a){e.$set(t.row,"Formula",a)},expression:"props.row.Formula"}})],1)],1)]}},{key:"body-cell-Epsilon",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Epsilon)+"\n            "),a("q-popup-edit",{attrs:{title:"Update epsilon value",buttons:""},model:{value:t.row.Epsilon,callback:function(a){e.$set(t.row,"Epsilon",a)},expression:"props.row.Epsilon"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Epsilon,callback:function(a){e.$set(t.row,"Epsilon",a)},expression:"props.row.Epsilon"}})],1)],1)]}},{key:"body-cell-LowLimit",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.LowLimit)+"\n            "),a("q-popup-edit",{attrs:{title:"Update low limit value",buttons:""},model:{value:t.row.LowLimit,callback:function(a){e.$set(t.row,"LowLimit",a)},expression:"props.row.LowLimit"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.LowLimit,callback:function(a){e.$set(t.row,"LowLimit",a)},expression:"props.row.LowLimit"}})],1)],1)]}},{key:"body-cell-HighLimit",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.HighLimit)+"\n            "),a("q-popup-edit",{attrs:{title:"Update high limit value",buttons:""},model:{value:t.row.HighLimit,callback:function(a){e.$set(t.row,"HighLimit",a)},expression:"props.row.HighLimit"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.HighLimit,callback:function(a){e.$set(t.row,"HighLimit",a)},expression:"props.row.HighLimit"}})],1)],1)]}},{key:"body-cell-UnitName",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.UnitName)+"\n            "),a("q-popup-edit",{attrs:{title:"Update value unit",buttons:""},model:{value:t.row.UnitName,callback:function(a){e.$set(t.row,"UnitName",a)},expression:"props.row.UnitName"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.UnitName,callback:function(a){e.$set(t.row,"UnitName",a)},expression:"props.row.UnitName"}})],1)],1)]}},{key:"body-cell-Delete",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{"text-color":"red",flat:"",dense:"",size:"sm",icon:"delete"},on:{click:function(a){return e.deletepropertyrow(t.row)}}})],1)]}}])}),a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mt-sm",attrs:{icon:"add",dense:"",color:"grey-9",size:"sm"},on:{click:function(t){return e.addnewpropertyrow()}}},[e._v("Add New Property Row")])],1)],1),a("q-tab-panel",{attrs:{name:"alarms"}},[a("q-table",{staticClass:"bg-grey-9",attrs:{dense:"",data:e.devicedata.Alarms,columns:e.alarmcolumns,"row-key":"Name",pagination:e.pagination},scopedSlots:e._u([{key:"body-cell-Name",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Name)+"\n            "),a("q-popup-edit",{attrs:{title:"Update property name",buttons:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}})],1)],1)]}},{key:"body-cell-Alias",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Alias)+"\n            "),a("q-popup-edit",{attrs:{title:"Update alias",buttons:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}})],1)],1)]}},{key:"body-cell-InScadaType",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(e.scadadatatypeconverter(t.row.InScadaType))+"\n            "),a("q-popup-edit",{attrs:{title:"Update value type",buttons:""},model:{value:t.row.InScadaType,callback:function(a){e.$set(t.row,"InScadaType",a)},expression:"props.row.InScadaType"}},[a("q-select",{attrs:{dense:"",filled:"",options:e.scadatypes,label:"Standard","emit-value":"","map-options":""},model:{value:t.row.InScadaType,callback:function(a){e.$set(t.row,"InScadaType",a)},expression:"props.row.InScadaType"}})],1)],1)]}},{key:"body-cell-InTarget",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.InTarget)+"\n            "),a("q-popup-edit",{attrs:{title:"Update target",buttons:""},model:{value:t.row.InTarget,callback:function(a){e.$set(t.row,"InTarget",a)},expression:"props.row.InTarget"}},[a("q-select",{attrs:{dense:"",filled:"",options:e.devicedata.Properties,"option-value":"Name","option-label":"Name",label:"Standard","emit-value":"","map-options":""},model:{value:t.row.InTarget,callback:function(a){e.$set(t.row,"InTarget",a)},expression:"props.row.InTarget"}})],1)],1)]}},{key:"body-cell-Condition",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Condition)+"\n            "),a("q-popup-edit",{attrs:{title:"Update value condition",buttons:""},model:{value:t.row.Condition,callback:function(a){e.$set(t.row,"Condition",a)},expression:"props.row.Condition"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Condition,callback:function(a){e.$set(t.row,"Condition",a)},expression:"props.row.Condition"}})],1)],1)]}},{key:"body-cell-Priority",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Priority)+"\n            "),a("q-popup-edit",{attrs:{title:"Update value priority",buttons:""},model:{value:t.row.Priority,callback:function(a){e.$set(t.row,"Priority",a)},expression:"props.row.Priority"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Priority,callback:function(a){e.$set(t.row,"Priority",a)},expression:"props.row.Priority"}})],1)],1)]}},{key:"body-cell-Delete",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{"text-color":"red",flat:"",dense:"",size:"sm",icon:"delete"},on:{click:function(a){return e.deletealarmrow(t.row)}}})],1)]}}])}),a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mt-sm",attrs:{icon:"add",dense:"",color:"grey-9",size:"sm"},on:{click:function(t){return e.addnewalarmrow()}}},[e._v("Add New Alarm Row")])],1)],1),a("q-tab-panel",{attrs:{name:"commands"}},[a("q-table",{staticClass:"bg-grey-9",attrs:{dense:"",data:e.devicedata.Commands,columns:e.cmdcolumns,"row-key":"Name",pagination:e.pagination},scopedSlots:e._u([{key:"body-cell-Name",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Name)+"\n            "),a("q-popup-edit",{attrs:{title:"Update property name",buttons:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}})],1)],1)]}},{key:"body-cell-Alias",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.Alias)+"\n            "),a("q-popup-edit",{attrs:{title:"Update alias",buttons:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}})],1)],1)]}},{key:"body-cell-ValueType",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(e.scadadatatypeconverter(t.row.ValueType))+"\n            "),a("q-popup-edit",{attrs:{title:"Update value type",buttons:""},model:{value:t.row.ValueType,callback:function(a){e.$set(t.row,"ValueType",a)},expression:"props.row.ValueType"}},[a("q-select",{attrs:{filled:"",dense:"",options:e.scadatypes,label:"Standard","emit-value":"","map-options":""},model:{value:t.row.ValueType,callback:function(a){e.$set(t.row,"ValueType",a)},expression:"props.row.ValueType"}})],1)],1)]}},{key:"body-cell-LowLimit",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.LowLimit)+"\n            "),a("q-popup-edit",{attrs:{title:"Update low limit value",buttons:""},model:{value:t.row.LowLimit,callback:function(a){e.$set(t.row,"LowLimit",a)},expression:"props.row.LowLimit"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.LowLimit,callback:function(a){e.$set(t.row,"LowLimit",a)},expression:"props.row.LowLimit"}})],1)],1)]}},{key:"body-cell-HighLimit",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.HighLimit)+"\n            "),a("q-popup-edit",{attrs:{title:"Update high limit value",buttons:""},model:{value:t.row.HighLimit,callback:function(a){e.$set(t.row,"HighLimit",a)},expression:"props.row.HighLimit"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.HighLimit,callback:function(a){e.$set(t.row,"HighLimit",a)},expression:"props.row.HighLimit"}})],1)],1)]}},{key:"body-cell-UnitName",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(t.row.UnitName)+"\n            "),a("q-popup-edit",{attrs:{title:"Update value unit",buttons:""},model:{value:t.row.UnitName,callback:function(a){e.$set(t.row,"UnitName",a)},expression:"props.row.UnitName"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.UnitName,callback:function(a){e.$set(t.row,"UnitName",a)},expression:"props.row.UnitName"}})],1)],1)]}},{key:"body-cell-Delete",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{"text-color":"red",flat:"",dense:"",size:"sm",icon:"delete"},on:{click:function(a){return e.deletecommandrow(t.row)}}})],1)]}}])}),a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mt-sm",attrs:{icon:"add",dense:"",color:"grey-9",size:"sm"},on:{click:function(t){return e.addnewcommandrow()}}},[e._v("Add New Command Row")])],1)],1)],1)],1)},l=[],i=(a("bd4c"),a("6afc")),o=a("2b0e"),n=a("07b2");o["default"].use(n["a"]);var r={name:"VirtualDeviceDetail",props:{vdname:String},data(){return{procolumns:[{name:"Name",required:!0,label:"Property Name",align:"left",field:"Name",sortable:!0},{name:"Alias",align:"left",label:"Alias",field:"Alias",sortable:!0},{name:"ValueType",align:"left",label:"ValueType",field:"ValueType",sortable:!0},{name:"Formula",align:"left",label:"Formula",field:"Formula",sortable:!0},{name:"Epsilon",align:"left",label:"Epsilon",field:"Epsilon",sortable:!0},{name:"LowLimit",align:"left",label:"Low Limit",field:"LowLimit",sortable:!0},{name:"HighLimit",align:"left",label:"High Limit",field:"HighLimit",sortable:!0},{name:"UnitName",align:"left",label:"Unit Name",field:"UnitName",sortable:!0},{name:"Delete",align:"center",label:"Delete",field:"Delete"}],alarmcolumns:[{name:"Name",required:!0,label:"Name",align:"left",field:"Name",sortable:!0,prop:"Name"},{name:"Alias",align:"left",label:"Alias",field:"Alias",sortable:!0},{name:"InScadaType",align:"left",label:"InScadaType",field:"InScadaType",sortable:!0},{name:"InTarget",align:"left",label:"InTarget",field:"InTarget",sortable:!0},{name:"Condition",align:"left",label:"Condition",field:"Condition",sortable:!0},{name:"Priority",align:"left",label:"Priority",field:"Priority",sortable:!0},{name:"Delete",align:"center",label:"Delete",field:"Delete"}],cmdcolumns:[{name:"Name",required:!0,label:"Device Name",align:"left",field:"Name",sortable:!0,prop:"Name"},{name:"Alias",align:"left",label:"Alias",field:"Alias",sortable:!0},{name:"ValueType",align:"left",label:"ValueType",field:"ValueType",sortable:!0},{name:"LowLimit",align:"left",label:"Low Limit",field:"LowLimit",sortable:!0},{name:"HighLimit",align:"left",label:"High Limit",field:"HighLimit",sortable:!0},{name:"UnitName",align:"left",label:"Unit Name",field:"UnitName",sortable:!0},{name:"Delete",align:"center",label:"Delete",field:"Delete"}],pagination:{page:1,rowsPerPage:20},scadatypes:i["h"],tab:"properties",devicedata:{},properties:[]}},mounted(){},created(){this.loadvd()},methods:{addnewpropertyrow:function(){void 0!==this.devicedata.Properties&&this.devicedata.Properties.push({})},addnewalarmrow:function(){void 0!==this.devicedata.Alarms&&this.devicedata.Alarms.push({})},addnewcommandrow:function(){void 0!==this.devicedata.Commands&&this.devicedata.Commands.push({})},deletepropertyrow(e){let t=this.devicedata.Properties.findIndex((t=>t===e));o["default"].delete(this.devicedata.Properties,t)},deletealarmrow(e){let t=this.devicedata.Alarms.findIndex((t=>t===e));o["default"].delete(this.devicedata.Alarms,t)},deletecommandrow(e){let t=this.devicedata.Commands.findIndex((t=>t===e));o["default"].delete(this.devicedata.Commands,t)},loadvd:function(){let e={Name:this.vdname};i["c"].callrpccallback("Project","GetVirtualDevice",JSON.stringify(e),(e=>{200===e.message.Id?(this.devicedata=e.message.Content,this.devicedata.Properties.forEach((e=>this.properties.push(e.Name)))):this.$q.notify({message:"Could not get virtual device",color:"negative"})}))},deletevd:function(){this.$q.dialog({title:"Confirm",message:"Would you like to delete virtual device?",cancel:!0,persistent:!0}).onOk((()=>{let e={Name:this.vdname};i["c"].callrpccallback("Project","DeleteVirtualDevice",JSON.stringify(e),(e=>{200===e.message.Id?this.$q.notify({caption:"Virtual device deleted.",message:this.vdname,type:"positive"}):this.$q.notify({caption:"Virtual device NOT deleted.",message:this.vdname,type:"negative"})}))}))},savevd:function(){this.vdname;i["c"].callrpccallback("Project","SetVirtualDevice",JSON.stringify(this.devicedata),(e=>{200===e.message.Id?this.$q.notify({caption:"Virtual device saved.",message:this.vdname,type:"positive"}):this.$q.notify({caption:"Virtual device NOT saved.",message:this.vdname,type:"negative"})}))},getproperties:function(){return properties},scadadatatypeconverter:function(e){if(void 0===e)return"";let t=this.scadatypes.filter((function(t){return t.value==e}));return t[0].label}},computed:{},mounted:function(){}},c=r,d=(a("8154"),a("2877")),p=a("9c40"),u=a("2c91"),m=a("429bb"),v=a("7460"),f=a("adad"),g=a("823b"),b=a("eaac"),y=a("db86"),q=a("42a1"),h=a("27f9"),w=a("ddd8"),C=a("eebe"),k=a.n(C),x=Object(d["a"])(c,s,l,!1,null,"79da35c3",null);t["default"]=x.exports;k()(x,"components",{QBtn:p["a"],QSpace:u["a"],QTabs:m["a"],QTab:v["a"],QTabPanels:f["a"],QTabPanel:g["a"],QTable:b["a"],QTd:y["a"],QPopupEdit:q["a"],QInput:h["a"],QSelect:w["a"]})},"2b43":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"q-pa-sm"},[a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"primary",icon:"refresh",label:"Load All Projects"},on:{click:e.getprojects}})],1),a("div",[a("q-splitter",{scopedSlots:e._u([{key:"before",fn:function(){return[a("div",{staticClass:"q-pa-md"},[a("q-tree",{attrs:{nodes:e.projecttree,"node-key":"key","selected-color":"warning",selected:e.selected},on:{"update:selected":[function(t){e.selected=t},e.selectionchanged]}})],1)]},proxy:!0},{key:"after",fn:function(){return[a("div",{staticClass:"text-subtitle1 q-pa-sm"},[e._v(e._s(e.selectedtreetarget))]),a("q-tab-panels",{model:{value:e.itemproperties,callback:function(t){e.itemproperties=t},expression:"itemproperties"}},[a("q-tab-panel",{attrs:{name:"vdTab"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-select",{staticStyle:{"min-width":"150px"},attrs:{options:e.devicedata,"option-label":"Name","option-value":"Name","emit-value":"","map-options":"",outlined:"",dense:"",label:"Device Name"},on:{input:e.getconstants},model:{value:e.selecteddevice,callback:function(t){e.selecteddevice=t},expression:"selecteddevice"}})],1),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"text-h6"},[e._v("Constants")]),a("div",{staticClass:"q-gutter-sm row"},[a("q-table",{staticClass:"bg-grey-9",attrs:{dense:"",data:e.constants,columns:e.columns,"row-key":"Name",pagination:e.pagination},scopedSlots:e._u([{key:"body-cell-Save",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{flat:"",size:"sm",color:"green",dense:"",icon:"save"},on:{click:function(a){return e.saveconstant(t.row)}}})],1)]}},{key:"body-cell-ConstantName",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n                    "+e._s(t.row.ConstantName)+"\n                  ")])]}},{key:"body-cell-Value",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n                    "+e._s(t.row.Value)+"\n                    "),a("q-popup-edit",{attrs:{title:"Update value",buttons:""},model:{value:t.row.Value,callback:function(a){e.$set(t.row,"Value",a)},expression:"props.row.Value"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Value,callback:function(a){e.$set(t.row,"Value",a)},expression:"props.row.Value"}})],1)],1)]}},{key:"body-cell-ValueType",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n                    "+e._s(e.scadadatatypeconverter(t.row.ValueType))+"\n                    "),a("q-popup-edit",{attrs:{title:"Update value type",buttons:""},model:{value:t.row.ValueType,callback:function(a){e.$set(t.row,"ValueType",a)},expression:"props.row.ValueType"}},[a("q-select",{attrs:{filled:"",dense:"",options:e.scadatypes,label:"Standard","emit-value":"","map-options":""},model:{value:t.row.ValueType,callback:function(a){e.$set(t.row,"ValueType",a)},expression:"props.row.ValueType"}})],1)],1)]}},{key:"body-cell-Delete",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{flat:"",size:"sm",color:"red",dense:"",icon:"delete"},on:{click:function(a){return e.deleteconstant(t.row)}}})],1)]}}])}),a("div",[a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.opendialog,callback:function(t){e.opendialog=t},expression:"opendialog"}},[a("q-card",{staticStyle:{width:"460px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Add Constant")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{dense:"",label:"Constant Name"},model:{value:e.newConstant,callback:function(t){e.newConstant=t},expression:"newConstant"}}),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col",attrs:{dense:"",label:"Value"},model:{value:e.newConstantValue,callback:function(t){e.newConstantValue=t},expression:"newConstantValue"}}),a("q-select",{staticClass:"q-mt-sm q-ml-sm col-4",attrs:{dense:"",options:e.scadatypes,label:"Value Type","emit-value":"","map-options":""},model:{value:e.newConstantValueType,callback:function(t){e.newConstantValueType=t},expression:"newConstantValueType"}})],1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",flat:"",label:"Create"},on:{click:e.createconstantrow}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",flat:"",label:"Close"}})],1)],1)],1)],1)],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"},[a("q-btn",{staticClass:"q-mt-sm q-pr-sm",attrs:{icon:"add",dense:"",color:"grey-9",size:"sm",label:"Add Constant"},on:{click:e.addconstantrow}})],1)],1)],1)]},proxy:!0}]),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}})],1)])},l=[],i=(a("4e82"),a("6afc")),o={name:"ConstantList",components:{VGrid:a("9bbb").default,tagbuilder:a("d16d").default},data(){return{columns:[{name:"Save",align:"center",label:"Save",field:"Save"},{name:"ConstantName",required:!0,label:"Constant Name",align:"left",field:"ConstantName",sortable:!0},{name:"Value",align:"left",label:"Value",field:"Value",sortable:!0},{name:"ValueType",align:"left",label:"ValueType",field:"ValueType",sortable:!0},{name:"Delete",align:"center",label:"Delete",field:"Delete"}],pagination:{page:1,rowsPerPage:20},projecttree:[{label:"Projects",header:"root",key:"root",children:[]}],selected:"root",scadatypes:i["h"],splitterModel:25,itemproperties:"",virtualdevicelist:[],devicedata:[],selectedvdforadd:"",selectedtreetarget:"",selecteddevice:"",opendialog:!1,newConstant:"",newConstantValue:"",newConstantValueType:14,constants:[]}},methods:{loadvirtualdevices(){i["c"].callrpccallback("Project","GetAllVirtualDeviceNames",JSON.stringify({}),(e=>{if(200!==e.message.Id)return void this.$q.notify({message:"Could not get virtual device information",color:"warning"});let t=[];e.message.Content.forEach((e=>{t.push({label:e.Name})})),t.sort(((e,t)=>e.label.localeCompare(t.label))),this.virtualdevicelist=t}))},loaddevices(){let e=this;this.selecteddevice="",this.constants=[],i["c"].callrpccallback("Project","Get",JSON.stringify({Command:this.selectedtreetarget+"/+"}),(t=>{if(200!==t.message.Id)return this.$q.notify({message:"Could not get device information",color:"warning"}),void(e.devicedata=[]);let a=[];t.message.Content.forEach((e=>{a.push(e)})),this.devicedata=a}))},selectionchanged(e){if(null===e)return;if("root"===e)return this.itemproperties="rootTab",void(this.selectedtreetarget="-");this.selectedtreetarget=e;let t=e.split("/"),a=t.length;switch(a){case 1:this.itemproperties="projectTab";var s=this.projecttree[0].children.filter((e=>e.key===t[0]))[0];this.changeprojectname=s.label,this.changeprojectalias=s.alias;break;case 2:this.itemproperties="systemTab";let a=this.projecttree[0].children.filter((e=>e.label===t[0]))[0].children.filter((t=>t.key===e))[0];this.changesystemname=a.label,this.changesystemalias=a.alias;break;case 3:this.itemproperties="vdTab",this.loaddevices();break;default:this.itemproperties="rootTab";break}},getprojects:function(){this.projecttree[0].children=[],i["c"].callrpccallback("Project","Get",JSON.stringify({Command:"+"}),(e=>{if(200===e.message.Id)for(var t in e.message.Content.sort(((e,t)=>e.Name.localeCompare(t.Name)))){let a=e.message.Content[t].Name,s={label:a,icon:"folder",children:[],key:a,alias:e.message.Content[t].Alias};this.projecttree[0].children.push(s),i["c"].callrpccallback("Project","Get",JSON.stringify({Command:s.key+"/+"}),(e=>{if(200===e.message.Id)for(var t in e.message.Content.sort(((e,t)=>e.Name.localeCompare(t.Name)))){let s=this.projecttree[0].children.filter((e=>e.key===a)),l=e.message.Content[t].Name,o={label:l,icon:"description",children:[],alias:e.message.Content[t].Alias,key:a+"/"+l};s[0].children.push(o),i["c"].callrpccallback("Project","Get",JSON.stringify({Command:o.key+"/+"}),(e=>{if(200===e.message.Id)for(var t in e.message.Content.sort(((e,t)=>e.Name.localeCompare(t.Name)))){let i=s[0].children.filter((e=>e.key===o.key)),n=e.message.Content[t].Name;i[0].children.push({label:n,icon:"ad_units",key:a+"/"+l+"/"+n,alias:e.message.Content[t].Alias})}else this.$q.notify({message:"Could not get virtual device information - "+o.key,color:"warning"})}))}else this.$q.notify({message:"Could not get systems information - "+s.key,color:"warning"})}))}else this.$q.notify({message:"Could not get project information",color:"warning"})}))},getconstants:function(){i["c"].callrpccallback("Project","GetDeviceConstants",JSON.stringify({DeviceAddress:this.selectedtreetarget+"/"+this.selecteddevice}),(e=>{200===e.message.Id?this.constants=e.message.Content:this.$q.notify({message:"Could not get constant information",color:"warning"})}))},scadadatatypeconverter:function(e){if(void 0===e)return"";let t=this.scadatypes.filter((function(t){return t.value==e}));return t[0].label},addconstantrow:function(){this.newConstant="",this.newConstantValue="",this.newConstantValueType=14,this.opendialog=!0},createconstantrow:function(){let e=this.selectedtreetarget+"/"+this.selecteddevice;var t=JSON.stringify({DeviceAddress:e,ConstantName:this.newConstant,Value:Object(i["i"])(this.newConstantValue,this.newConstantValueType),ValueType:this.newConstantValueType});this.opendialog=!1,i["c"].callrpccallback("Project","SetDeviceConstant",t,(e=>{200===e.message.Id?(this.$q.notify({caption:"Constant saved.",message:this.vdname,type:"positive"}),this.getconstants()):this.$q.notify({caption:"Constant NOT saved.",message:this.vdname,type:"negative"})}))},saveconstant:function(e){let t=this.selectedtreetarget+"/"+this.selecteddevice;this.deleteconstant(e),i["c"].callrpccallback("Project","SetDeviceConstant",JSON.stringify({DeviceAddress:t,ConstantName:e.ConstantName,Value:e.Value,ValueType:e.ValueType}),(e=>{200===e.message.Id?(this.$q.notify({caption:"Constant saved.",message:this.vdname,type:"positive"}),this.getconstants()):this.$q.notify({caption:"Constant NOT saved.",message:this.vdname,type:"negative"})}))},deleteconstant:function(e){let t=this.selectedtreetarget+"/"+this.selecteddevice;i["c"].callrpccallback("Project","DeleteDeviceConstant",JSON.stringify({DeviceAddress:t,ConstantName:e.ConstantName}),(e=>{200===e.message.Id?(this.$q.notify({caption:"Constant deleted.",message:this.vdname,type:"positive"}),this.getconstants()):this.$q.notify({caption:"Constant delete error.",message:this.vdname,type:"negative"})}))}},computed:{},mounted:function(){this.loadvirtualdevices(),this.getprojects()}},n=o,r=(a("ae38"),a("2877")),c=a("9c40"),d=a("8562"),p=a("7f41"),u=a("adad"),m=a("823b"),v=a("ddd8"),f=a("eb85"),g=a("eaac"),b=a("db86"),y=a("42a1"),q=a("27f9"),h=a("24e8"),w=a("f09f"),C=a("a370"),k=a("4b7e"),x=a("7f67"),N=a("eebe"),V=a.n(N),T=Object(r["a"])(n,s,l,!1,null,"41733357",null);t["default"]=T.exports;V()(T,"components",{QBtn:c["a"],QSplitter:d["a"],QTree:p["a"],QTabPanels:u["a"],QTabPanel:m["a"],QSelect:v["a"],QSeparator:f["a"],QTable:g["a"],QTd:b["a"],QPopupEdit:y["a"],QInput:q["a"],QDialog:h["a"],QCard:w["a"],QCardSection:C["a"],QCardActions:k["a"]}),V()(T,"directives",{ClosePopup:x["a"]})},"310c":function(e,t,a){},"4dc3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"q-pb-sm"},[a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"primary",icon:"refresh",label:"Load All VDs"},on:{click:e.refresh}}),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"primary",icon:"save",label:"Save All VDs"}}),a("q-btn",{staticClass:"q-ml-md q-pr-sm",attrs:{dense:"",color:"info",icon:"get_app",label:"Import"}}),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"info",icon:"publish",label:"Export"}})],1),a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{dense:"",data:e.virtualdevices,"row-key":"Name",pagination:e.pagination},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("div",{staticClass:"q-gutter-sm row"},[a("q-btn",{attrs:{dense:"",round:"",icon:"add",color:"secondary"}},[a("q-popup-edit",{attrs:{"content-class":"bg-grey-8 text-white"},model:{value:e.addVDmodel,callback:function(t){e.addVDmodel=t},expression:"addVDmodel"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{staticClass:"col-4",attrs:{dense:"",standout:"",label:"VD Name"},model:{value:e.addVDName,callback:function(t){e.addVDName=t},expression:"addVDName"}}),a("q-input",{staticClass:"col-4",attrs:{dense:"",standout:"",label:"VD Alias"},model:{value:e.addVDAlias,callback:function(t){e.addVDAlias=t},expression:"addVDAlias"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-3",attrs:{color:"secondary","icon-right":"add",label:"Create",dense:""},on:{click:e.createVD}})],1)])],1)],1)]},proxy:!0},{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-th",{attrs:{"auto-width":""}}),e._l(t.cols,(function(s){return a("q-th",{key:s.name,attrs:{props:t}},[e._v("\n            "+e._s(s.label)+"\n          ")])}))],2)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-btn",{attrs:{size:"xs",color:"green",round:"",dense:"",icon:t.expand?"remove":"add"},on:{click:function(e){t.expand=!t.expand}}})],1),e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n            "+e._s(s.value)+"\n          ")])}))],2),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"text-left"},[a("vddetail",{attrs:{vdname:t.row.Name}})],1)])],1)]}}])})],1)])},l=[],i=a("6afc"),o={name:"VirtualDeviceList",props:{msg:String},data(){return{virtualdevices:[],pagination:{sortBy:"Name",descending:!1,page:1,rowsPerPage:50},addVDName:"",addVDAlias:"",addVDmodel:{}}},components:{vddetail:a("1196").default},methods:{createVD:function(){i["c"].callrpccallback("Project","SetVirtualDevice",JSON.stringify({Name:this.addVDName,Alias:this.addVDAlias}),(e=>{200===e.message.Id?(this.addVDName="",this.addVDAlias="",this.refresh()):this.$q.notify({message:"Could not create virtual device",color:"negative"})}))},refresh:function(){i["c"].callrpccallback("Project","GetAllVirtualDeviceNames",JSON.stringify({}),(e=>{if(200!==e.message.Id)return void this.$q.notify({message:"Could not get virtual device information",color:"negative"});let t=[];for(var a in e.message.Content)t.push(e.message.Content[a]);this.virtualdevices=t}))}},created:function(){}},n=o,r=a("2877"),c=a("9c40"),d=a("eaac"),p=a("42a1"),u=a("27f9"),m=a("bd08"),v=a("357e"),f=a("db86"),g=a("7f67"),b=a("eebe"),y=a.n(b),q=Object(r["a"])(n,s,l,!1,null,"59a90fad",null);t["default"]=q.exports;y()(q,"components",{QBtn:c["a"],QTable:d["a"],QPopupEdit:p["a"],QInput:u["a"],QTr:m["a"],QTh:v["a"],QTd:f["a"]}),y()(q,"directives",{ClosePopup:g["a"]})},"5aa7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-table",{attrs:{data:e.data,columns:e.columns,"hide-bottom":e.trueValue,pagination:e.pagination,"row-key":"name"},scopedSlots:e._u([{key:"body-cell-status",fn:function(t){return[a("q-td",{staticClass:"text-left"},[1==t.row.valuetype?a("div",[t.value?a("q-icon",{staticClass:"text-light-green-13",attrs:{size:"20px",name:"check_circle"}}):a("q-icon",{staticClass:"text-red",attrs:{size:"20px",name:"cancel"}})],1):a("div",[e._v(e._s(t.value))])])]}},{key:"body-cell-info",fn:function(t){return[a("q-td",{staticClass:"text-left"},[e._v("\n        "+e._s(e.gettaginfo(t.value))+"\n      ")])]}}])})],1)},l=[],i=a("bd4c"),o=a("6afc"),n={name:"ValueViewer",props:{constantvalue:Object,virtualdevice:Object,alarmdata:Array,acat:Object},data:function(){return{pagination:{sortBy:"Name",descending:!1,page:1,rowsPerPage:50},trueValue:!0,alarmcount:0,columns:[{name:"name",required:!0,label:this.$t("device_property"),align:"left",field:e=>e.name,sortable:!0},{name:"status",align:"center",label:this.$t("device_status"),field:"status",align:"left",sortable:!0},{name:"user",label:this.$t("device_user"),field:"user",align:"left",sortable:!0},{name:"process",label:this.$t("device_process"),field:"process",align:"left",sortable:!0},{name:"date",label:this.$t("device_date"),field:"date",align:"left",format:e=>""+i["a"].formatDate(e,"DD-MM-YYYY HH:mm:ss"),sortable:!0},{name:"quality",label:this.$t("device_quality"),field:"quality",align:"left",sortable:!0,format:e=>""+this.gettagquality(e)},{name:"info",label:this.$t("device_info"),field:"info",align:"left",sortable:!0}],data:[],tagqualitylist:o["k"],taginfolist:o["j"]}},methods:{gettaginfo:function(e){if(void 0===e)return"";let t=[];return this.taginfolist.forEach((a=>{(e&a.value)==a.value&&t.push(a.label)})),t.join()},gettagquality:function(e){if(void 0===e)return"";let t=this.tagqualitylist.filter((function(t){return t.value==e}));return t[0].label}},components:{},watch:{virtualdevice:{deep:!0,immediate:!0,handler(){if(void 0!==this.virtualdevice){this.data=[];for(let e in this.virtualdevice){let t=this.data.filter((t=>t.name==e));t.length>0?(t[0].status=this.virtualdevice[e].Value,t[0].valuetype=this.virtualdevice[e].ValueType,t[0].user=this.virtualdevice[e].User,t[0].process=this.virtualdevice[e].Worker,t[0].date=this.virtualdevice[e].Timestamp,t[0].quality=this.virtualdevice[e].Quality,t[0].info=this.virtualdevice[e].TagInfo):this.data.push({name:e,status:this.virtualdevice[e].Value,valuetype:this.virtualdevice[e].ValueType,user:this.virtualdevice[e].User,process:this.virtualdevice[e].Worker,date:this.virtualdevice[e].Timestamp,quality:this.virtualdevice[e].Quality,info:this.virtualdevice[e].TagInfo})}}}}}},r=n,c=a("2877"),d=a("eaac"),p=a("db86"),u=a("0016"),m=a("eebe"),v=a.n(m),f=Object(c["a"])(r,s,l,!1,null,null,null);t["default"]=f.exports;v()(f,"components",{QTable:d["a"],QTd:p["a"],QIcon:u["a"]})},8154:function(e,t,a){"use strict";a("c317")},a64b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"q-pa-sm"},[a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"primary",icon:"refresh",label:"Load All Projects"},on:{click:e.getprojects}}),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"primary",icon:"save",label:"Save All VDs"},on:{click:e.getprojects}}),a("q-btn",{staticClass:"q-ml-md q-pr-sm",attrs:{dense:"",color:"info",icon:"get_app",label:"Import"}}),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",color:"info",icon:"publish",label:"Export"}})],1),a("div",[a("q-splitter",{scopedSlots:e._u([{key:"before",fn:function(){return[a("div",{staticClass:"q-pa-md"},[a("q-tree",{attrs:{nodes:e.projecttree,"node-key":"key","selected-color":"warning",selected:e.selected},on:{"update:selected":[function(t){e.selected=t},e.selectionchanged]}})],1)]},proxy:!0},{key:"after",fn:function(){return[a("div",{staticClass:"text-subtitle1 q-pa-sm"},[e._v(e._s(e.selectedtreetarget))]),a("q-tab-panels",{model:{value:e.itemproperties,callback:function(t){e.itemproperties=t},expression:"itemproperties"}},[a("q-tab-panel",{attrs:{name:"rootTab"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"Project Name"},model:{value:e.addprojectname,callback:function(t){e.addprojectname=t},expression:"addprojectname"}}),a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"Project Alias"},model:{value:e.addprojectalias,callback:function(t){e.addprojectalias=t},expression:"addprojectalias"}})],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"},[a("q-btn",{staticClass:"q-pr-sm",attrs:{color:"primary",icon:"add",label:"Add Project"},on:{click:e.addproject}})],1)]),a("q-tab-panel",{attrs:{name:"projectTab"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"Project Name",readonly:""},model:{value:e.changeprojectname,callback:function(t){e.changeprojectname=t},expression:"changeprojectname"}}),a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",readonly:"",label:"Project Alias"},model:{value:e.changeprojectalias,callback:function(t){e.changeprojectalias=t},expression:"changeprojectalias"}})],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"}),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"text-h6"},[e._v("Add System")]),a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"System Name"},model:{value:e.addsystemname,callback:function(t){e.addsystemname=t},expression:"addsystemname"}}),a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"System Alias"},model:{value:e.addsystemalias,callback:function(t){e.addsystemalias=t},expression:"addsystemalias"}})],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"},[a("q-btn",{staticClass:"q-pr-sm",attrs:{color:"primary",icon:"add",label:"Add System"},on:{click:e.addsystem}})],1),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"row"},[a("q-space"),a("q-btn",{attrs:{color:"negative",icon:"delete",label:"Delete Project"},on:{click:e.deleteproject}})],1)],1),a("q-tab-panel",{attrs:{name:"systemTab"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"System Name",readonly:""},model:{value:e.changesystemname,callback:function(t){e.changesystemname=t},expression:"changesystemname"}}),a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"System Alias",readonly:""},model:{value:e.changesystemalias,callback:function(t){e.changesystemalias=t},expression:"changesystemalias"}})],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"}),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"text-h6"},[e._v("Add Virtual Device")]),a("div",{staticClass:"q-gutter-sm row"},[a("q-select",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"Virtual Device Name",options:e.virtualdevicelist},model:{value:e.selectedvdforadd,callback:function(t){e.selectedvdforadd=t},expression:"selectedvdforadd"}}),a("q-btn",{attrs:{color:"secondary",icon:"refresh",round:""},on:{click:e.loadvirtualdevices}})],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"},[a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{color:"primary",icon:"add",label:"Add Virtual Device"},on:{click:e.addvd}})],1),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"row"},[a("q-space"),a("q-btn",{attrs:{color:"negative",icon:"delete",label:"Delete System"},on:{click:e.deletesystem}})],1)],1),a("q-tab-panel",{attrs:{name:"vdTab"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"Virtual Device Name",readonly:""},model:{value:e.changevdname,callback:function(t){e.changevdname=t},expression:"changevdname"}}),a("q-input",{staticClass:"col-3",attrs:{dense:"",standout:"",label:"Virtual Device Alias",readonly:""},model:{value:e.changevdalias,callback:function(t){e.changevdalias=t},expression:"changevdalias"}})],1),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"text-h6"},[e._v("Devices")]),a("div",{staticClass:"q-gutter-sm row"},[a("q-table",{attrs:{dense:"",data:e.devicedata,columns:e.columns,"row-key":"Name",pagination:e.pagination},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("div",{staticClass:"q-gutter-sm row items-start"},[a("q-btn",{attrs:{dense:"",color:"secondary","icon-right":"file_download",label:"Export"},on:{click:e.exportdevices}}),a("q-btn",{attrs:{dense:"",color:"secondary","icon-right":"file_upload",label:"Import"}},[a("q-popup-edit",{attrs:{"content-class":"bg-grey text-white"},model:{value:e.importdevicesfile,callback:function(t){e.importdevicesfile=t},expression:"importdevicesfile"}},[a("q-file",{attrs:{dense:"",borderless:"",label:"Select file"},model:{value:e.importdevicesfile,callback:function(t){e.importdevicesfile=t},expression:"importdevicesfile"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disabled:null===e.importdevicesfile,color:"secondary","icon-right":"file_upload",label:"Import",dense:""},on:{click:e.importdevices}})],1)],1)],1)]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"Name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.Name)+"\n                      "),a("q-popup-edit",{attrs:{title:"Update name",buttons:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Name,callback:function(a){e.$set(t.row,"Name",a)},expression:"props.row.Name"}})],1)],1),a("q-td",{key:"Alias",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.Alias)+"\n                      "),a("q-popup-edit",{attrs:{title:"Update alias",buttons:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.Alias,callback:function(a){e.$set(t.row,"Alias",a)},expression:"props.row.Alias"}})],1)],1),a("q-td",{key:"Location",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.Location)+"\n\n                      "),a("q-popup-edit",{attrs:{title:"Update location",buttons:""},model:{value:t.row.Location,callback:function(a){e.$set(t.row,"Location",a)},expression:"props.row.Location"}},[a("q-input",{model:{value:t.row.Location,callback:function(a){e.$set(t.row,"Location",a)},expression:"props.row.Location"}})],1)],1),a("q-th",[a("q-btn",{attrs:{"text-color":"red",flat:"",dense:"",size:"sm",icon:"delete"},on:{click:function(a){return e.deletedevice(t.row.Name)}}})],1)],1)]}}])})],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"},[a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",icon:"add",label:"Add Row"},on:{click:e.adddevicerow}}),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{dense:"",icon:"segment",label:"Create Pattern"}},[a("q-popup-edit",{attrs:{"content-class":"bg-grey text-white"},model:{value:e.devicecreatepattern,callback:function(t){e.devicecreatepattern=t},expression:"devicecreatepattern"}},[a("div",{staticClass:"q-gutter-sm row"},[a("q-input",{attrs:{dense:"",standout:"",label:"Pattern"},model:{value:e.devicecreatepattern,callback:function(t){e.devicecreatepattern=t},expression:"devicecreatepattern"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"secondary","icon-right":"segment",label:"Create",dense:""},on:{click:e.createdevicepattern}})],1)])],1)],1),a("div",{staticClass:"q-gutter-sm q-pt-sm row"},[a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{color:"primary",icon:"refresh",label:"Reload Devices"},on:{click:e.loaddevices}}),a("q-btn",{staticClass:"q-ml-sm q-pr-sm",attrs:{color:"primary",icon:"add",label:"Send All"},on:{click:e.sendalldevices}})],1),a("q-separator",{staticClass:"q-mt-md q-mb-md row"}),a("div",{staticClass:"row"},[a("q-space"),a("q-btn",{attrs:{color:"negative",icon:"delete",label:"Delete VD"},on:{click:e.deletevd}})],1)],1)],1)]},proxy:!0}]),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}})],1)])},l=[],i=(a("4e82"),a("ddb0"),a("a357")),o=a("6afc"),n=a("f751"),r=a("2b0e");a("5319");const c=function(e){if(""===e)return[];let t=[],a=e.indexOf("["),s=e.indexOf("]");if(a<0||s<0)return[{Name:e,Alias:e.toLowerCase()}];var l=e.substring(a+1,s);if(!(l.indexOf("-")>0))return[];var i=l.split("-");if(2==i.length){let a=parseInt(i[0]),s=parseInt(i[1]);if(a>s){let e=a;a=s,s=e}for(let i=a;i<=s;i++){let a=e.replace("["+l+"]",i),s="str.dvc."+a.toLowerCase();t.push({Name:a,Alias:s})}}return t};r["default"].use(n["a"]);var d={name:"ProjectTree",components:{VGrid:a("9bbb").default,tagbuilder:a("d16d").default},data(){return{columns:[{name:"Name",required:!0,label:"Device Name",align:"left",field:"Name",format:e=>""+e,sortable:!0,prop:"Name"},{name:"Alias",align:"left",label:"Alias",field:"Alias",sortable:!0},{name:"Location",align:"left",label:"Location",field:"Location",sortable:!0,style:"width: 10px"},{name:"Delete",align:"center",label:"Delete",field:"Delete"}],pagination:{page:1,rowsPerPage:20},projecttree:[{label:"Projects",header:"root",key:"root",children:[]}],selected:"root",splitterModel:25,selecteddevice:[],itemproperties:"",virtualdevicelist:[],devicedata:[],selectedvdforadd:"",selectedtreetarget:"",addprojectname:"",addprojectalias:"",addsystemname:"",addsystemalias:"",changeprojectname:"",changeprojectalias:"",changesystemname:"",changesystemalias:"",changevdname:"",changevdalias:"",devicecreatepattern:"",importdevicesfile:null}},methods:{loadvirtualdevices(){o["c"].callrpccallback("Project","GetAllVirtualDeviceNames",JSON.stringify({}),(e=>{if(200!==e.message.Id)return void this.$q.notify({message:"Could not get virtual device information",color:"warning"});let t=[];e.message.Content.forEach((e=>{t.push({label:e.Name})})),t.sort(((e,t)=>e.label.localeCompare(t.label))),this.virtualdevicelist=t}))},loaddevices(){let e=this;o["c"].callrpccallback("Project","Get",JSON.stringify({Command:this.selectedtreetarget+"/+"}),(t=>{if(200!==t.message.Id)return this.$q.notify({message:"Could not get device information",color:"warning"}),void(e.devicedata=[]);let a=[];t.message.Content.forEach((e=>{a.push(e)})),this.devicedata=a}))},selectionchanged(e){if(null===e)return;if("root"===e)return this.itemproperties="rootTab",void(this.selectedtreetarget="-");this.selectedtreetarget=e;let t=e.split("/"),a=t.length;switch(a){case 1:this.itemproperties="projectTab";var s=this.projecttree[0].children.filter((e=>e.key===t[0]))[0];this.changeprojectname=s.label,this.changeprojectalias=s.alias;break;case 2:this.itemproperties="systemTab";let a=this.projecttree[0].children.filter((e=>e.label===t[0]))[0].children.filter((t=>t.key===e))[0];this.changesystemname=a.label,this.changesystemalias=a.alias;break;case 3:this.itemproperties="vdTab",this.loaddevices();let l=this.projecttree[0].children.filter((e=>e.label===t[0]))[0].children.filter((e=>e.label===t[1]))[0].children.filter((t=>t.key===e))[0];this.changevdname=l.label,this.changevdalias=l.alias;break;default:this.itemproperties="rootTab";break}},getprojects:function(){this.projecttree[0].children=[],o["c"].callrpccallback("Project","Get",JSON.stringify({Command:"+"}),(e=>{if(200===e.message.Id)for(var t in e.message.Content.sort(((e,t)=>e.Name.localeCompare(t.Name)))){let a=e.message.Content[t].Name,s={label:a,icon:"folder",children:[],key:a,alias:e.message.Content[t].Alias};this.projecttree[0].children.push(s),o["c"].callrpccallback("Project","Get",JSON.stringify({Command:s.key+"/+"}),(e=>{if(200===e.message.Id)for(var t in e.message.Content.sort(((e,t)=>e.Name.localeCompare(t.Name)))){let s=this.projecttree[0].children.filter((e=>e.key===a)),l=e.message.Content[t].Name,i={label:l,icon:"description",children:[],alias:e.message.Content[t].Alias,key:a+"/"+l};s[0].children.push(i),o["c"].callrpccallback("Project","Get",JSON.stringify({Command:i.key+"/+"}),(e=>{if(200===e.message.Id)for(var t in e.message.Content.sort(((e,t)=>e.Name.localeCompare(t.Name)))){let o=s[0].children.filter((e=>e.key===i.key)),n=e.message.Content[t].Name;o[0].children.push({label:n,icon:"ad_units",key:a+"/"+l+"/"+n,alias:e.message.Content[t].Alias})}else this.$q.notify({message:"Could not get virtual device information - "+i.key,color:"warning"})}))}else this.$q.notify({message:"Could not get systems information - "+s.key,color:"warning"})}))}else this.$q.notify({message:"Could not get project information",color:"warning"})}))},addproject:function(){let e=this;o["c"].callrpccallback("Project","Create",JSON.stringify({Command:this.addprojectname,Alias:this.addprojectalias}),(t=>{if(this.addprojectname="",this.addprojectalias="",201==t.message.Id)return this.$q.notify({message:"Project created - "+this.addprojectname,color:"positive"}),void e.getprojects()}))},addsystem:function(){let e=this;o["c"].callrpccallback("Project","Create",JSON.stringify({Command:this.selectedtreetarget+"/"+this.addsystemname,Alias:this.addsystemalias}),(t=>201==t.message.Id?(this.$q.notify({message:"System created - "+this.addsystemname,color:"positive"}),void e.getprojects()):(this.$q.notify({message:"System not created - "+this.addsystemname,color:"negative"}),void e.getprojects())))},addvd:function(){let e=this;o["c"].callrpccallback("Project","Create",JSON.stringify({Command:this.selectedtreetarget+"/"+this.selectedvdforadd.label}),(t=>201==t.message.Id?(this.$q.notify({message:"Virtual device added - "+this.selectedvdforadd.label,color:"positive"}),void e.getprojects()):(this.$q.notify({message:"Virtual device not created - "+this.selectedvdforadd.label,color:"negative"}),void e.getprojects())))},adddevicerow:function(){this.devicedata.push({Name:"devicename",Alias:"str.dvc."})},sendalldevices:function(){let e=this;o["c"].callrpccallback("Project","Delete",JSON.stringify({Command:this.selectedtreetarget+"/+"}),(t=>{for(var a of(200!=t.message.Id&&this.$q.notify({message:"Delete devices error "+this.selectedtreetarget,color:"warning"}),e.devicedata))o["c"].callrpccallback("Project","Create",JSON.stringify({Command:e.selectedtreetarget+"/"+a.Name,Alias:a.Alias,Location:a.Location}),(t=>{201!=t.message.Id&&e.$q.notify({message:"Device not created - "+a.Name,color:"warning"})}));this.loaddevices()}))},deleteproject:function(){let e=this;o["c"].callrpccallback("Project","Delete",JSON.stringify({Command:this.selectedtreetarget}),(t=>{if(200==t.message.Id)return this.$q.notify({message:"Project deleted - "+this.selectedtreetarget,color:"positive"}),void e.getprojects();this.$q.notify({message:"Project not deleted - "+this.selectedtreetarget,color:"negative"})}))},deletesystem:function(){let e=this;o["c"].callrpccallback("Project","Delete",JSON.stringify({Command:this.selectedtreetarget}),(t=>{if(200==t.message.Id)return this.$q.notify({message:"System deleted - "+this.selectedtreetarget,color:"positive"}),void e.getprojects();this.$q.notify({message:"System not deleted - "+this.selectedtreetarget,color:"negative"})}))},deletevd:function(){let e=this;o["c"].callrpccallback("Project","Delete",JSON.stringify({Command:this.selectedtreetarget}),(t=>{if(200==t.message.Id)return this.$q.notify({message:"Virtual device deleted - "+this.selectedtreetarget,color:"positive"}),void e.getprojects();this.$q.notify({message:"Virtual device not deleted - "+this.selectedtreetarget,color:"negative"})}))},deletedevice(e){let t=this.devicedata.findIndex((t=>t.Name===e));r["default"].delete(this.devicedata,t)},exportdevices:function(){const e=Object(i["a"])("devices.csv",this.$papa.unparse(this.devicedata,{delimiter:","}));!0===e?console.log("File downloaded"):console.log("Error: "+e)},importdevices:function(){let e=this;this.$papa.parse(this.importdevicesfile,{header:!0,step:function(t){e.devicedata.push(t.data)},complete:function(e,t){console.log(e)}})},createdevicepattern:function(){this.devicedata=c(this.devicecreatepattern)}},computed:{},mounted:function(){this.loadvirtualdevices(),this.getprojects()}},p=d,u=(a("be4b"),a("2877")),m=a("9c40"),v=a("8562"),f=a("7f41"),g=a("adad"),b=a("823b"),y=a("27f9"),q=a("eb85"),h=a("2c91"),w=a("ddd8"),C=a("eaac"),k=a("42a1"),x=a("7d53"),N=a("bd08"),V=a("db86"),T=a("357e"),_=a("7f67"),j=a("eebe"),S=a.n(j),$=Object(u["a"])(p,s,l,!1,null,"453c70fe",null);t["default"]=$.exports;S()($,"components",{QBtn:m["a"],QSplitter:v["a"],QTree:f["a"],QTabPanels:g["a"],QTabPanel:b["a"],QInput:y["a"],QSeparator:q["a"],QSpace:h["a"],QSelect:w["a"],QTable:C["a"],QPopupEdit:k["a"],QFile:x["a"],QTr:N["a"],QTd:V["a"],QTh:T["a"]}),S()($,"directives",{ClosePopup:_["a"]})},ae38:function(e,t,a){"use strict";a("310c")},be4b:function(e,t,a){"use strict";a("d8e5")},c317:function(e,t,a){},ced8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-pa-none"},[a("div",[a("q-card",[a("q-tabs",{attrs:{dense:"",align:"left","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"sender",label:"Sender"}}),a("q-tab",{attrs:{name:"constants",label:"Constants"}}),a("q-tab",{attrs:{name:"virtualdevices",label:"Virtual Devices"}}),a("q-tab",{attrs:{name:"projectree",label:"Project Tree"}})],1),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"sender"}},[a("valuesender")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"constants"}},[a("constantlist")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"virtualdevices"}},[a("virtualdevicelist")],1),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"projectree"}},[a("projecttree")],1)],1)],1)],1)])])},l=[],i=(a("6afc"),{name:"ProjectManagement",components:{virtualdevicelist:a("4dc3").default,constantlist:a("2b43").default,projecttree:a("a64b").default,valuesender:a("e657").default},data(){return{tab:"sender"}}}),o=i,n=a("2877"),r=a("9989"),c=a("f09f"),d=a("429bb"),p=a("7460"),u=a("adad"),m=a("823b"),v=a("eebe"),f=a.n(v),g=Object(n["a"])(o,s,l,!1,null,"6bdf895e",null);t["default"]=g.exports;f()(g,"components",{QPage:r["a"],QCard:c["a"],QTabs:d["a"],QTab:p["a"],QTabPanels:u["a"],QTabPanel:m["a"]})},d8e5:function(e,t,a){},ddba:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("q-select",{staticClass:"col",attrs:{filled:"",dense:"",options:e.tagqualitylist,label:"Quality","emit-value":"","map-options":""},on:{input:e.updatevalue},model:{value:e.tagqualityvalue,callback:function(t){e.tagqualityvalue=t},expression:"tagqualityvalue"}}),a("q-select",{staticClass:"q-ml-sm col",attrs:{filled:"",dense:"",multiple:"",options:e.taginfolist,label:"Info","emit-value":"","map-options":""},on:{input:e.updatevalue},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.itemProps,l=t.itemEvents,i=t.opt,o=t.selected,n=t.toggleOption;return[a("q-item",e._g(e._b({},"q-item",s,!1),l),[a("q-item-section",[a("q-item-label",{domProps:{innerHTML:e._s(i.label)}})],1),a("q-item-section",{attrs:{side:""}},[a("q-toggle",{attrs:{value:o},on:{input:function(e){return n(i)}}})],1)],1)]}}]),model:{value:e.taginfovalue,callback:function(t){e.taginfovalue=t},expression:"taginfovalue"}})],1)},l=[],i=a("6afc"),o={name:"TagProperties",props:{props:["value"]},components:{},data(){return{tagqualityvalue:0,tagqualitylist:i["k"],taginfovalue:[0],taginfolist:i["j"]}},methods:{updatevalue:function(){this.$emit("input",{quality:this.tagqualityvalue,info:this.taginfovalue})}},mounted:function(){this.$emit("input",{quality:this.tagqualityvalue,info:this.taginfovalue})},computed:{}},n=o,r=a("2877"),c=a("ddd8"),d=a("66e5"),p=a("4074"),u=a("0170"),m=a("9564"),v=a("eebe"),f=a.n(v),g=Object(r["a"])(n,s,l,!1,null,"22b524ab",null);t["default"]=g.exports;f()(g,"components",{QSelect:c["a"],QItem:d["a"],QItemSection:p["a"],QItemLabel:u["a"],QToggle:m["a"]})},e657:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("q-card",{staticClass:"q-mt-md q-ml-sm q-mr-sm bg-grey-9"},[a("tagbuilder",{staticClass:"q-pl-sm q-pt-sm q-pb-sm",model:{value:e.selectedtag,callback:function(t){e.selectedtag=t},expression:"selectedtag"}}),e.selectedtag?a("div",[a("div",{staticClass:"q-ma-sm row"},[a("q-input",{staticClass:"col-auto q-pr-sm",attrs:{rounded:"",standout:"",label:"Formula",dense:"",readonly:""},model:{value:e.selectedtag.property.Formula,callback:function(t){e.$set(e.selectedtag.property,"Formula",t)},expression:"selectedtag.property.Formula"}}),a("q-input",{staticClass:"col-auto q-pr-sm",attrs:{rounded:"",standout:"",label:"Low Limit",dense:"",readonly:""},model:{value:e.selectedtag.property.LowLimit,callback:function(t){e.$set(e.selectedtag.property,"LowLimit",t)},expression:"selectedtag.property.LowLimit"}}),a("q-input",{staticClass:"col-auto q-pr-sm",attrs:{rounded:"",standout:"",label:"High Limit",dense:"",readonly:""},model:{value:e.selectedtag.property.HighLimit,callback:function(t){e.$set(e.selectedtag.property,"HighLimit",t)},expression:"selectedtag.property.HighLimit"}}),a("q-input",{staticClass:"col-auto q-pr-sm",attrs:{rounded:"",standout:"",label:"Epsilon",dense:"",readonly:""},model:{value:e.selectedtag.property.Epsilon,callback:function(t){e.$set(e.selectedtag.property,"Epsilon",t)},expression:"selectedtag.property.Epsilon"}})],1),a("div",[1===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Boolean Input")]),a("div",{staticClass:"q-pa-sm row"},[a("tagproperties",{staticClass:"q-ml-none col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"positive",label:"True"},on:{click:function(t){return e.sendboolvalue(!0)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"negative",label:"False"},on:{click:function(t){return e.sendboolvalue(!1)}}})],1)]):e._e(),2===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Byte Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{type:"number",filled:"",dense:"",min:"0",max:"255",label:"Value"},model:{value:e.bytevalue,callback:function(t){e.bytevalue=t},expression:"bytevalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),3===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Char Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",mask:"N",label:"Value"},model:{value:e.charvalue,callback:function(t){e.charvalue=t},expression:"charvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),4===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Decimal Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.decimalvalue,callback:function(t){e.decimalvalue=t},expression:"decimalvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),5===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Double Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-2",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.doublevalue,callback:function(t){e.doublevalue=t},expression:"doublevalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),6===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Float Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number"},model:{value:e.floatvalue,callback:function(t){e.floatvalue=t},expression:"floatvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),7===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Integer Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.intvalue,callback:function(t){e.intvalue=t},expression:"intvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),8===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Long Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.longvalue,callback:function(t){e.longvalue=t},expression:"longvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),9===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("SByte Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{type:"number",filled:"",dense:"",min:"-128",max:"127",label:"Value"},model:{value:e.sbytevalue,callback:function(t){e.sbytevalue=t},expression:"sbytevalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),10===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Short Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.shortvalue,callback:function(t){e.shortvalue=t},expression:"shortvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),11===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Uint Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.uintvalue,callback:function(t){e.uintvalue=t},expression:"uintvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),12===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Ulong Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.ulongvalue,callback:function(t){e.ulongvalue=t},expression:"ulongvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),13===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("Ushort Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",type:"number",label:"Value"},model:{value:e.ushortvalue,callback:function(t){e.ushortvalue=t},expression:"ushortvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e(),14===e.selectedtag.property.ValueType?a("div",[a("div",{staticClass:"text-h6 q-pl-sm"},[e._v("String Input")]),a("div",{staticClass:"q-pa-sm row"},[a("q-input",{staticClass:"q-ml-none col-4",attrs:{filled:"",dense:"",label:"Value"},model:{value:e.stringvalue,callback:function(t){e.stringvalue=t},expression:"stringvalue"}}),a("tagproperties",{staticClass:"q-ml-sm col-2",model:{value:e.tagproperty,callback:function(t){e.tagproperty=t},expression:"tagproperty"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-sm col-auto",attrs:{color:"positive",label:"Send"},on:{click:function(t){return e.sendvalue()}}})],1)]):e._e()])]):e._e()],1),a("q-card",{staticClass:"q-mt-md q-ml-sm q-mr-sm bg-grey-9"},[a("q-card-section",{staticClass:"text-h6 q-pl-md q-pb-none"},[e._v(e._s(e.deviceaddress)+"\n    ")]),a("q-card-section",[a("valueviewer",{attrs:{virtualdevice:e.bindToVD(e.deviceaddress)}})],1)],1)],1)},l=[],i=a("ded3"),o=a.n(i),n=a("6afc"),r=a("f751"),c=a("2b0e"),d=a("2f62");a("ddba");c["default"].use(r["a"]);var p={name:"ValueSender",components:{tagbuilder:a("d16d").default,valueviewer:a("5aa7").default,tagproperties:a("ddba").default},data(){return{selectedtag:"",boolvalue:!1,bytevalue:0,charvalue:"",decimalvalue:0,doublevalue:0,floatvalue:0,intvalue:0,longvalue:0,sbytevalue:0,shortvalue:0,uintvalue:0,ulongvalue:0,ushortvalue:0,stringvalue:"",tagproperty:{}}},methods:{sendboolvalue(e){if(void 0!==this.selectedtag){let t=0;for(let e=0;e<this.tagproperty.info.length;e++)t+=this.tagproperty.info[e];n["c"].changetag(this.selectedtag.tag,e,this.selectedtag.property.ValueType,this.tagproperty.quality,t)}},sendvalue(){if(void 0!==this.selectedtag){let e=0;for(let t=0;t<this.tagproperty.info.length;t++)e+=this.tagproperty.info[t];switch(this.selectedtag.property.ValueType){case 2:n["c"].changetag(this.selectedtag.tag,parseInt(this.bytevalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 3:n["c"].changetag(this.selectedtag.tag,this.charvalue,this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 4:n["c"].changetag(this.selectedtag.tag,parseFloat(this.decimalvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 5:n["c"].changetag(this.selectedtag.tag,parseFloat(this.doublevalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 6:n["c"].changetag(this.selectedtag.tag,parseFloat(this.floatvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 7:n["c"].changetag(this.selectedtag.tag,parseInt(this.intvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 8:n["c"].changetag(this.selectedtag.tag,parseInt(this.longvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 9:n["c"].changetag(this.selectedtag.tag,parseInt(this.sbytevalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 10:n["c"].changetag(this.selectedtag.tag,parseInt(this.shortvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 11:n["c"].changetag(this.selectedtag.tag,parseInt(this.uintvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 12:n["c"].changetag(this.selectedtag.tag,parseInt(this.ulongvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 13:n["c"].changetag(this.selectedtag.tag,parseInt(this.ushortvalue),this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;case 14:n["c"].changetag(this.selectedtag.tag,this.stringvalue,this.selectedtag.property.ValueType,this.tagproperty.quality,e);break;default:break}}}},computed:o()(o()({},Object(d["c"])("scadadata",["bindToVD"])),{},{deviceaddress:function(){if(void 0!==this.selectedtag&&void 0!==this.selectedtag.tag){let e=this.selectedtag.tag.split("/").slice(0,-2).join("/");return e}return""}})},u=p,m=a("2877"),v=a("f09f"),f=a("27f9"),g=a("9c40"),b=a("2c91"),y=a("a370"),q=a("eebe"),h=a.n(q),w=Object(m["a"])(u,s,l,!1,null,"9fa8e44a",null);t["default"]=w.exports;h()(w,"components",{QCard:v["a"],QInput:f["a"],QBtn:g["a"],QSpace:b["a"],QCardSection:y["a"]})}}]);