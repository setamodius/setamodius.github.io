(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"563c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-breadcrumbs",[s("q-breadcrumbs-el",{attrs:{icon:"home",to:"/"}}),s("q-breadcrumbs-el",{attrs:{label:e.$t("modbusadaptor"),icon:"navigation",to:"/vue-components/breadcrumbs"}})],1)],1),s("div",{staticClass:"q-pa-md q-gutter-md"},[s("q-btn-group",{attrs:{push:""}},[s("q-btn",{attrs:{push:"",color:"secondary",label:"Get Settings",icon:"get_app"},on:{click:e.getsettings}}),s("q-btn",{attrs:{push:"",color:"secondary",label:"Put Settings",icon:"publish"},on:{click:e.putsettings}})],1),s("q-expansion-item",{attrs:{icon:"list",label:"Modbus Slave Settings","header-class":"bg-primary text-white","default-opened":"",dense:""}},[e._l(e.ModbusSlaves,(function(t,a){return s("q-card",{key:a,staticClass:"my-card row q-pt-xs"},[s("q-expansion-item",{staticClass:"col",attrs:{icon:"video_label",flat:"",dense:"","header-class":"bg-secondary text-white",label:e.gettitle(t.Ip,t.Port,t.IsActive)}},[s("modbusslave",{attrs:{modbusslavedata:t,workername:e.WorkerName}})],1),s("q-btn",{attrs:{icon:"delete",flat:"",dense:"",color:"negative"},on:{click:function(s){return e.deleteslave(t)}}})],1)})),s("div",{staticClass:"q-ma-sm text-right"},[s("q-btn",{attrs:{round:"",dense:"",color:"secondary",icon:"add"},on:{click:e.addmodbusslave}})],1)],2)],1)])},o=[],n=s("ee8f"),r=s("2b0e"),i=s("07b2");new r["default"];r["default"].use(i["a"]);var l={name:"ModbusAdaptor",data(){return{WorkerName:"",ModbusSlaves:[],selected:{}}},methods:{getsettings:async function(){this.WorkerName=n["a"].getResponseWebConfig().modbusAdapter.workername;let e=n["a"].getResponseWebConfig().modbusAdapter.uniquekey,t=await n["a"].getRequestConfigAPI("config",this.WorkerName,e);t[0]?(this.ModbusSlaves=t[2].value.ModbusSlaves,this.$q.notify({type:"positive",message:this.$t("get_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})):this.$q.notify({type:"negative",message:this.$t("get_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})},putsettings:async function(){this.WorkerName=n["a"].getResponseWebConfig().modbusAdapter.workername;let e=n["a"].getResponseWebConfig().modbusAdapter.uniquekey;const t={ModbusSlaves:this.ModbusSlaves};let s=await n["a"].putRequestConfigAPI("config",this.WorkerName,e,t);s[0]?this.$q.notify({type:"positive",message:this.$t("put_request_success_message")+"\t(Status Code : "+s[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}):this.$q.notify({type:"negative",message:this.$t("put_request_error_message")+"\t(Status Code : "+s[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})},gettitle(e,t,s){return e+":"+t+(1===s?" (Enabled)":"")},addmodbusslave(){let e={Ip:"localhost",Port:502,SlaveID:1,PoolingRate:1e3,Target:"IsOnline",IsActive:0,Timeout:1e4,Read:{CoilStatus:[],CoilStatusReadPool:[],InputStatus:[],InputStatusReadPool:[],HoldingRegisters:[],HoldingRegistersReadPool:[],InputRegisters:[],InputRegistersReadPool:[]},Write:{CoilStatus:[],HoldingRegisters:[]}};this.ModbusSlaves.push(e)},deleteslave(e){var t=this.ModbusSlaves.indexOf(e);this.ModbusSlaves.splice(t,1)}},created:function(){},components:{modbusslave:s("8222").default}},d=l,u=s("2877"),c=s("9989"),b=s("ead5"),g=s("079eb"),p=s("e7a9"),m=s("9c40"),h=s("3b73"),v=s("f09f"),f=s("eebe"),q=s.n(f),y=Object(u["a"])(d,a,o,!1,null,"10a0178c",null);t["default"]=y.exports;q()(y,"components",{QPage:c["a"],QBreadcrumbs:b["a"],QBreadcrumbsEl:g["a"],QBtnGroup:p["a"],QBtn:m["a"],QExpansionItem:h["a"],QCard:v["a"]})}}]);