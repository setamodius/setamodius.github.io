(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0d49":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-pa-none"},[a("div",[a("q-card",[a("q-tabs",{attrs:{dense:"",align:"left","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"config",label:"Config"}}),a("q-tab",{attrs:{name:"pool",label:"Pool"}}),a("q-tab",{attrs:{name:"backup",label:"Backup"}})],1),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"config"}},[a("configEditor",{attrs:{name:"config",itemName:"Workername"}})],1),a("q-tab-panel",{attrs:{name:"pool"}},[a("configEditor",{attrs:{name:"pool",itemName:"PoolName"}})],1),a("q-tab-panel",{attrs:{name:"backup"}},[a("backup-editor",{attrs:{name:"backup",itemName:"BackupName"}})],1)],1)],1)],1)])])},i=[],n=(a("e336"),{name:"Configurations",data(){return{tab:"config"}},components:{configEditor:a("3b44").default,backupEditor:a("e336").default}}),o=n,l=(a("7b6a"),a("2877")),r=a("9989"),c=a("f09f"),d=a("429bb"),u=a("7460"),m=a("adad"),p=a("823b"),h=a("eebe"),g=a.n(h),f=Object(l["a"])(o,s,i,!1,null,"550bd37b",null);t["default"]=f.exports;g()(f,"components",{QPage:r["a"],QCard:c["a"],QTabs:d["a"],QTab:u["a"],QTabPanels:m["a"],QTabPanel:p["a"]})},"3b44":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-md q-gutter-md row"},[a("q-select",{staticClass:"col-2",attrs:{label:e.itemName,dense:"",options:e.itemList},model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}}),a("q-input",{attrs:{dense:"",label:"Uniquekey"},model:{value:e.ukey,callback:function(t){e.ukey=t},expression:"ukey"}}),a("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",label:"Get"},on:{click:e.getclicked}})],1),a("div",{staticClass:"q-pr-md q-pl-md q-gutter-md row"},[a("vue-json-editor",{staticClass:"q-pr-md",attrs:{height:"400px",options:e.options},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}}),a("q-separator")],1),a("div",{staticClass:"q-pa-md q-gutter-md row"},[a("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",label:"Update"},on:{click:e.putclicked}}),a("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",label:"Create"},on:{click:e.createopenclicked}}),a("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",label:"Delete"},on:{click:e.deleteclicked}})],1),a("div",[a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.opendialog,callback:function(t){e.opendialog=t},expression:"opendialog"}},[a("q-card",{staticStyle:{width:"460px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Please enter new "+e._s(e.itemName)+" and Uniquekey")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{dense:"",label:e.itemName},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}}),a("q-input",{attrs:{dense:"",label:"Uniquekey"},model:{value:e.newUkey,callback:function(t){e.newUkey=t},expression:"newUkey"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",flat:"",label:"Create"},on:{click:e.createclicked}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",flat:"",label:"Close"}})],1)],1)],1)],1)])},i=[],n=a("2b0e"),o=a("838b"),l=a.n(o),r=a("bcb2"),c=a.n(r),d=(a("b83f"),a("ee8f"));n["default"].use(c.a);var u={name:"ConfigEditor",props:{name:String,itemName:String},data(){return{options:{mode:"code"},json:{},selectedItem:"",itemList:[],ukey:"",newUkey:"",newItemName:"",opendialog:!1}},components:{VueJsonPretty:l.a,vueJsonEditor:c.a},async mounted(){await this.refresh()},methods:{refresh:async function(){this.json={},this.selectedItem="",this.itemList=[],this.ukey="",this.itemList=await d["a"].getDataFromEndpoint(this.name)},warning_field_is_required:function(e,t){return""!==e&&""!==t||(""===e&&this.$q.notify({type:"negative",message:this.itemName+" "+this.$t("field_is_required"),actions:[{label:"ok",color:"gray",handler:()=>{}}]}),""===t&&this.$q.notify({type:"negative",message:"Uniquekey "+this.$t("field_is_required"),actions:[{label:"ok",color:"gray",handler:()=>{}}]}),!1)},getclicked:async function(){let e=this.warning_field_is_required(this.selectedItem,this.ukey);if(!e)return;let t=await d["a"].getRequestConfigAPI(this.name,this.selectedItem,this.ukey);t[0]?(this.json=t[2].value,this.$q.notify({type:"positive",message:this.$t("get_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})):this.$q.notify({type:"negative",message:this.$t("get_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})},createopenclicked:async function(){this.opendialog=!0},createclicked:async function(){let e=this.warning_field_is_required(this.newItemName,this.newUkey);if(!e)return;let t=await d["a"].createRequestConfigAPI(this.name,this.newItemName,this.newUkey,this.json);t[0]?this.$q.notify({type:"positive",message:this.$t("create_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}):this.$q.notify({type:"negative",message:this.$t("create_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}),this.refresh()},putclicked:async function(){let e=this.warning_field_is_required(this.selectedItem,this.ukey);if(!e)return;let t=await d["a"].putRequestConfigAPI(this.name,this.selectedItem,this.ukey,this.json);t[0]?this.$q.notify({type:"positive",message:this.$t("put_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}):this.$q.notify({type:"negative",message:this.$t("put_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}),this.refresh()},deleteclicked:async function(){let e=this.warning_field_is_required(this.selectedItem,this.ukey);if(!e)return;let t=await d["a"].deleteRequestConfigAPI(this.name,this.selectedItem,this.ukey);t[0]?this.$q.notify({type:"positive",message:this.$t("delete_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}):this.$q.notify({type:"negative",message:this.$t("delete_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}),this.refresh()}}},m=u,p=a("2877"),h=a("ddd8"),g=a("27f9"),f=a("9c40"),y=a("eb85"),b=a("24e8"),q=a("f09f"),k=a("a370"),_=a("4b7e"),w=a("7f67"),v=a("eebe"),C=a.n(v),$=Object(p["a"])(m,s,i,!1,null,null,null);t["default"]=$.exports;C()($,"components",{QSelect:h["a"],QInput:g["a"],QBtn:f["a"],QSeparator:y["a"],QDialog:b["a"],QCard:q["a"],QCardSection:k["a"],QCardActions:_["a"]}),C()($,"directives",{ClosePopup:w["a"]})},"468d":function(e,t,a){},"7b6a":function(e,t,a){"use strict";a("468d")},e336:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-md q-gutter-md row"},[a("q-select",{staticClass:"col-2",attrs:{label:e.itemName,dense:"",options:e.itemList},model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}}),a("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",label:"Get",dense:""},on:{click:e.getbackups}}),a("q-space"),a("q-file",{attrs:{outlined:"",dense:"",clearable:"",color:"primary",label:"Upload File",filter:e.checkFileType},on:{rejected:e.onRejected},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:e.fileattached,callback:function(t){e.fileattached=t},expression:"fileattached"}}),a("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",label:"Upload"},on:{click:e.uploadclicked}})],1),a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{dense:"",title:"Backup List",data:e.json,columns:e.columns,"row-key":"id",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body-cell-delete",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{flat:"",size:"sm",color:"red",dense:"",icon:"delete"},on:{click:function(a){return e.deleteclicked(t.row)}}})],1)]}},{key:"body-cell-download",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{size:"sm",color:"green",dense:"",label:"Download"},on:{click:function(a){return e.downloadclicked(t.row)}}})],1)]}}])}),a("q-separator")],1),a("div",{staticClass:"q-pa-md q-gutter-md row"})])},i=[],n=a("aeb1"),o=a.n(n),l=a("ee8f"),r={name:"BackupEditor",props:{name:String,itemName:String},data(){return{pagination:{rowsPerPage:20},selectedItem:"",itemList:[],json:[],fileattached:null,uploadJson:{},columns:[{name:"delete",label:"",field:"delete",align:"left"},{name:"id",required:!0,label:"Id",align:"right",field:e=>e.id,format:e=>""+e,sortable:!0},{name:"createdate",label:"Create Date",field:"createdate",sortable:!0},{name:"download",label:"Download",field:"download"}]}},async mounted(){await this.refresh()},methods:{refresh:async function(){this.json=[],this.selectedItem="",this.itemList=[],this.itemList=await l["a"].getDataFromEndpoint(this.name)},checkFileType(e){return e.filter((e=>"application/json"===e.type))},onRejected(){this.$q.notify({type:"negative",message:this.$t("json_constraint_error_message"),actions:[{label:"ok",color:"gray",handler:()=>{}}]})},warning_field_is_required:function(e){return""!==e||(this.$q.notify({type:"negative",message:this.itemName+" "+this.$t("field_is_required"),actions:[{label:"ok",color:"gray",handler:()=>{}}]}),!1)},getbackups:async function(){let e=this.warning_field_is_required(this.selectedItem);if(!e)return;let t=await l["a"].getRequestConfigAPI(this.name,this.selectedItem,"");t[0]?(this.json=t[2],this.$q.notify({type:"positive",message:this.$t("get_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})):this.$q.notify({type:"negative",message:this.$t("get_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})},uploadclicked:async function(){let e=this.warning_field_is_required(this.selectedItem);if(e)if(null!==this.fileattached)try{let e=JSON.parse(await this.readFileAsync(this.fileattached)),t=await l["a"].createRequestConfigAPI(this.name,this.selectedItem,"",e);t[0]?(this.$q.notify({type:"positive",message:this.$t("create_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}),this.getbackups(),this.fileattached=null):this.$q.notify({type:"negative",message:this.$t("create_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})}catch(t){this.$q.notify({type:"negative",message:this.$t("file_read_error_message"),actions:[{label:"ok",color:"gray",handler:()=>{}}]}),console.error(t)}else this.$q.notify({type:"negative",message:this.$t("choose_file_error_message"),actions:[{label:"ok",color:"gray",handler:()=>{}}]})},readFileAsync:function(e){return new Promise(((t,a)=>{let s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=a,s.readAsText(e)}))},downloadclicked:async function(e){let t=await l["a"].getRequestConfigAPIbyParameter(this.name,this.selectedItem,"",e.id);t[0]?(this.$q.notify({type:"positive",message:this.$t("download_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}),o()(JSON.stringify(t[2].value),this.selectedItem+"_"+e.id+".json","text/plain")):this.$q.notify({type:"negative",message:this.$t("download_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]})},deleteclicked:async function(e){let t=await l["a"].deleteRequestConfigAPIbyParameter(this.name,this.selectedItem,"",e.id);t[0]?this.$q.notify({type:"positive",message:this.$t("delete_request_success_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}):this.$q.notify({type:"negative",message:this.$t("delete_request_error_message")+"\t(Status Code : "+t[1]+")",actions:[{label:"ok",color:"gray",handler:()=>{}}]}),this.getbackups()}}},c=r,d=a("2877"),u=a("ddd8"),m=a("9c40"),p=a("2c91"),h=a("7d53"),g=a("0016"),f=a("eaac"),y=a("db86"),b=a("eb85"),q=a("eebe"),k=a.n(q),_=Object(d["a"])(c,s,i,!1,null,null,null);t["default"]=_.exports;k()(_,"components",{QSelect:u["a"],QBtn:m["a"],QSpace:p["a"],QFile:h["a"],QIcon:g["a"],QTable:f["a"],QTd:y["a"],QSeparator:b["a"]})}}]);