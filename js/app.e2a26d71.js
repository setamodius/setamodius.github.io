(function(e){function t(t){for(var a,r,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={1:0},o={1:0},s=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{2:"af99208d",3:"faaaece6",4:"130ccb3b",5:"c0c12d77",6:"d9f2888a",7:"48957d68"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={2:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{2:"0da472bc",3:"31d6cfe0",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0"}[e]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],m.parentNode.removeChild(m),n(s)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push([1,0]),n()})({1:function(e,t,n){e.exports=n("2f39")},2:function(e,t){},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("5319"),n("7d6e"),n("e54f"),n("985d"),n("31cd");var a=n("2b0e"),r=n("1f91"),o=n("42d2"),s=n("b05d"),i=n("b12a"),c=n("f5084"),u=n("2a19"),l=n("436b");a["a"].use(s["a"],{config:{},lang:r["a"],iconSet:o["a"],plugins:{AppFullscreen:i["a"],Loading:c["a"],Notify:u["a"],Dialog:l["a"]}});var d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},m=[],p={name:"App",created(){this.$q.dark.set(!0)}},f=p,v=n("2877"),g=Object(v["a"])(f,d,m,!1,null,null,null),h=g.exports,b=n("2f62"),w=n("6afc");const S={isConnected:!1,isConnecting:!1,currentUsername:"",currentUserFullname:""},y={updateStatus(e,t){e.isConnected=t},updateConnectingStatus(e,t){e.isConnecting=t},loginSuccess(e,t){e.currentUserFullname=t.message.Fullname,e.currentUsername=t.message.Username},login(e,t){}},x={updateStatus({commit:e},t){e("updateStatus",t)},login({commit:e},t){e("login",t)}},C={isConnected:e=>e.isConnected,isDisconnected:e=>!e.isConnected,CurrentUser:e=>e.currentUsername,CurrentUserFullname:e=>e.currentUserFullname};var k={namespaced:!0,state:S,mutations:y,actions:x,getters:C},O=n("2ef0");const A={alarmlist:[],virtualdevices:{},constants:{},workers:{}},P={WorkerChanged(e,t){"deleted"===t.status?a["a"].delete(e.workers,t.uniquename):a["a"].set(e.workers,t.uniquename,t)},VDChanged(e,t){void 0===e.virtualdevices[t.virtualdevice]&&a["a"].set(e.virtualdevices,t.virtualdevice,{}),void 0===e.virtualdevices[t.virtualdevice][t.property]&&a["a"].set(e.virtualdevices[t.virtualdevice],t.property,{}),a["a"].set(e.virtualdevices[t.virtualdevice],t.property,t.message)},ConstantReceived(e,t){void 0===e.constants[t.virtualdevice]&&a["a"].set(e.constants,t.virtualdevice,{}),void 0===e.constants[t.virtualdevice][t.property]&&a["a"].set(e.constants[t.virtualdevice],t.property,{}),a["a"].set(e.constants[t.virtualdevice],t.property,t.message.Value),a["a"].set(e.constants[t.virtualdevice],"DeviceAddress",t.virtualdevice)},AlarmReceived(e,t){e.alarmlist.some((e=>e.deviceaddress==t.deviceaddress))?e.alarmlist=e.alarmlist.map((e=>e.deviceaddress===t.deviceaddress?Object.assign({},e,t):e)):e.alarmlist.push(t)}},V={},j={getAllWorkers:e=>e.workers,getConstantValue:e=>t=>e.constants[t],getAllConstantValue:e=>O.groupBy(e.constants,(function(e){return e.GroupName})),bindToVD:e=>t=>e.virtualdevices[t],getAlarmList:e=>e.alarmlist,getDeviceAlarmList:e=>O.groupBy(e.alarmlist,(function(e){return e.deviceaddress}))};var D={namespaced:!0,state:A,mutations:P,actions:V,getters:j};const M={viewDeviceList:[]},T={updateShownView(e,t){e.viewDeviceList=t}},$={updateShownView({commit:e},t){e("updateShownView",t)}},N={viewsShown:e=>e.viewDeviceList};var q={namespaced:!0,state:M,mutations:T,actions:$,getters:N};n("cf57");let R;a["a"].use(b["a"]);const U=e=>{w["a"].$on("WorkerStatusChanged",(t=>{e.commit("auth/updateStatus",t.isconnected),e.commit("auth/updateConnectingStatus",!1),c["a"].hide(),t.isconnected?(R=w["b"].callrpc("Access","GetUser",JSON.stringify({Username:w["b"].options.username})),u["a"].create({message:"Connected to server",color:"green"})):u["a"].create({message:"Disconnected from server",color:"red"})})),w["a"].$on("RpcResult",(t=>{t.uid===R&&void 0!==t.message.Fullname&&(e.commit("auth/loginSuccess",t),t.message.Fullname)})),w["a"].$on("OtherWorkersStatus",(t=>{e.commit("scadadata/WorkerChanged",t)})),w["a"].$on("VDChanged",(t=>{e.commit("scadadata/VDChanged",t)})),w["a"].$on("ConstantReceived",(t=>{e.commit("scadadata/ConstantReceived",t)})),w["a"].$on("AlarmReceived",(t=>{e.commit("scadadata/AlarmReceived",t)})),w["a"].$on("ErrorReceived",(e=>{u["a"].create({message:e.error,color:"red"})})),e.subscribe((t=>{"auth/login"===t.type&&(w["b"].connect(t.payload.Server,t.payload.Username,t.payload.Password),e.commit("auth/updateConnectingStatus",!0),c["a"].show())}))};var L=function(){const e=new b["a"].Store({modules:{auth:k,scadadata:D,mapdata:q},plugins:[U],strict:!1});return e},_=n("8c4f");const E=[{path:"/",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"713b")),children:[{path:"",name:"Savronik Scada",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"ec95"))},{path:"/usermanagement",name:"User Management",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"7367"))},{path:"/projectmanagement",name:"Project Management",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"ced8"))},{path:"/modbussettingstool",name:"Modbus Settings Tool",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"1426"))}]},{path:"*",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"e51e"))}];var J=E;a["a"].use(_["a"]);var F=function(){const e=new _["a"]({scrollBehavior:()=>({x:0,y:0}),routes:J,mode:"hash",base:""});return e},W=async function(){const e="function"===typeof L?await L({Vue:a["a"]}):L,t="function"===typeof F?await F({Vue:a["a"],store:e}):F;e.$router=t;const n={router:t,store:e,render:e=>e(h),el:"#q-app"};return{app:n,store:e,router:t}},B=n("a925"),G={failed:"Action failed",success:"Action was successful",t_dashboard:"Dashboard",t_map:"Map",t_settings:"Settings",fixed:"Fixed Camera",vms:"VMS",ptz:"PTZ Camera",dome:"Dome Camera",meteo:"Meteorlogy",cabinet:"Cabinet",switch:"Network Switch"},I={failed:"Görev yapılamadı",success:"Görev başarılı",dashboard:"Gösterge Paneli",map:"Harita",settings:"Ayarlar",scadalogin:"Scada Giriş",server:"Sunucu",pool:"Havuz",username:"Kullanıcı Adı",password:"Parola",login:"GİRİŞ",fieldisrequired:"Alan gereklidir",fixed:"Sabit Kamera",Mersin:"Mersin Bölge",Adana:"Adana Bölge",vms:"VMS",ptz:"PTZ Kamera",dome:"Dome Kamera",meteo:"Meteoroloji",cabinet:"Saha Kabini",switch:"Network Switch"},K={"en-us":G,"tr-tr":I};a["a"].use(B["a"]);const z=new B["a"]({locale:"en-us",fallbackLocale:"en-us",messages:K});var Q=({app:e})=>{e.i18n=z},H=n("52e0"),Z=n.n(H);const X="";async function Y(){const{app:e,store:t,router:n}=await W();let r=!1;const o=e=>{r=!0;const t=Object(e)===e?n.resolve(e).route.fullPath:e;window.location.href=t},s=window.location.href.replace(window.location.origin,""),i=[Q,w["c"],Z.a];for(let u=0;!1===r&&u<i.length;u++)if("function"===typeof i[u])try{await i[u]({app:e,router:n,store:t,Vue:a["a"],ssrContext:null,redirect:o,urlPath:s,publicPath:X})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==r&&new a["a"](e)}Y()},3:function(e,t){},"31cd":function(e,t,n){},4:function(e,t){},5:function(e,t){},"52e0":function(e,t,n){n("5319"),String.prototype.getInitials=function(e){if("undefined"==typeof e)e=!0;var t=this.replace(/[^a-zA-Z- ]/g,"").match(/\b\w/g);return e?(null==t&&(t=["-"]),t.join("")):t},String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,(function(e){return e.toUpperCase()}))}},6:function(e,t){},"6afc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));n("e6cf");var a=n("2b0e"),r=(n("5319"),n("9523")),o=n.n(r),s=n("e7fc"),i=n.n(s);const c="OTIS5";class u{constructor(e){o()(this,"callrpc",(function(e,t,n){var a=this.createuid(),r="Scada/to/"+e+"/from/"+this.options.clientid+"/"+t+"/req/"+a;return console.log(n),this.innerclient.publish(r,n,{qos:2,retain:!1}),a})),this.innerbus=e}connect(e,t,n){let a={status:"disconnect",timestamp:(new Date).toISOString()};const r="WebScada";this.options={username:t,password:n,clientid:r,will:{topic:c+"/"+r+"-"+t+"/Status",payload:JSON.stringify(a),qos:2,retain:!0}};var o=i.a.connect(e,this.options);this.innerclient=o;var s=this;o.on("error",(function(e){console.log("ddddd"),console.log(e),s.innerbus.$emit("ErrorReceived",{error:e})})),o.on("connect",(function(){s.innerbus.$emit("WorkerStatusChanged",{isconnected:!0}),o.subscribe("MQTT/#",(function(){})),o.subscribe(c+"/#",(function(){})),o.subscribe("Scada/to/"+this.options.clientid+"/from/+/+/+/+",(function(){}));let e={status:"online",timestamp:(new Date).toISOString()};o.publish("MQTT/"+this.options.clientid+"-"+this.options.username+"/Status",JSON.stringify(e),{qos:2,retain:!0})})),o.on("offline",(function(){s.innerbus.$emit("WorkerStatusChanged",{isconnected:!1})}));var u={};this.workers=u,o.on("message",(function(e,t){var n=e.split("/");if("MQTT"===n[0]){var a=n[1].split("-")[0],r=n[1].split("-")[1];if(0==t.length)s.innerbus.$emit("OtherWorkersStatus",{uniquename:a+r,workername:a,username:r,status:"deleted"});else{var i=JSON.parse(t);s.innerbus.$emit("OtherWorkersStatus",{uniquename:a+r,workername:a,username:r,timestamp:new Date(i.timestamp),status:i.status})}}if("Scada"===n[0]&&8==n.length&&0!=t.length){o.publish(e,"",{qos:2,retain:!0});var u=n[7];s.innerbus.$emit("RpcResult",{uid:u,message:JSON.parse(t)})}if(n[0]===c&&6==n.length&&"Online"===n[5]&&0!=t.length&&s.innerbus.$emit("VDChanged",{virtualdevice:[n[0],n[1],n[2],n[3]].join("/"),property:n[4],message:JSON.parse(t)}),n[0]===c&&6==n.length&&"Alarm"===n[5]&&0!=t.length){var l=JSON.parse(t);s.innerbus.$emit("AlarmReceived",{start:l.Value.Start,deviceaddress:[n[0],n[1],n[2],n[3]].join("/"),systemname:n[1],devicename:n[3],location:l.Value.Location,message:l.Value.Message,ackdate:l.Value.Acked,ackby:l.Value.AckedBy,enddate:l.Value.Ended,status:l.Value.Status,id:l.Value.Id,priority:l.Value.Priority})}if(n[0]===c&&6==n.length&&"Constant"===n[5]&&0!=t.length){l=JSON.parse(t);s.innerbus.$emit("ConstantReceived",{virtualdevice:[n[0],n[1],n[2],n[3]].join("/"),property:n[4],message:JSON.parse(t)})}}))}createuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}removeworker(e){var t="MQTT/"+e.workername+"-"+e.username+"/Status";this.innerclient.publish(t,"",{qos:2,retain:!0})}getworkers(){return this.workers}}const l=new a["a"];var d=new u(l);t["c"]=async()=>{}},7:function(e,t){},8:function(e,t){},9:function(e,t){}});